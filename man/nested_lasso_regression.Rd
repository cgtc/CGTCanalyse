% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nested_lasso_regression.R
\name{nested_lasso_regression}
\alias{nested_lasso_regression}
\title{Nested Cross-Validated LASSO Regression with tidymodels}
\usage{
nested_lasso_regression(
  data,
  target_variable,
  seed = 123,
  penalty_range = c(-4, 0),
  levels = 30,
  outer_folds = 5,
  outer_repeats = 1,
  inner_folds = 5,
  final_tune_folds = 5,
  metric = "rmse",
  strata = NULL,
  group = NULL
)
}
\arguments{
\item{data}{A data frame containing the predictors and outcome variable.}

\item{target_variable}{A string specifying the name of the outcome variable.}

\item{seed}{Integer seed for reproducibility. Default is `123`.}

\item{penalty_range}{A numeric vector of length 2 specifying the range of log10-penalty values to test (e.g., `c(-4, 0)` tests penalties from `1e-4` to `1`). Default is `c(-4, 0)`.}

\item{levels}{Integer number of levels (grid points) to use for the penalty tuning grid. Default is `30`.}

\item{outer_folds}{Number of outer cross-validation folds. Default is `5`.}

\item{outer_repeats}{Number of repeats for outer cross-validation. Default is `1`.}

\item{inner_folds}{Number of inner cross-validation folds for hyperparameter tuning. Default is `5`.}

\item{final_tune_folds}{Number of folds used to tune the final model on the full dataset. Default is `5`.}

\item{metric}{Performance metric used for model selection (e.g. `"rmse"`, `"rsq"`). Default is `"rmse"`.}

\item{strata}{Optional column name (unquoted) used for stratification in cross-validation.}

\item{group}{Optional column name (unquoted) used for grouped cross-validation (e.g. for repeated measures or grouped samples).}
}
\value{
A list with three elements:
\describe{
  \item{`outer_performance`}{A data frame containing performance metrics from each outer fold.}
  \item{`final_model`}{A `workflow` object representing the final fitted model.}
  \item{`feature_importances`}{A data frame of non-zero coefficients from the final model, including variable names and their estimated coefficients.}
}
}
\description{
Performs nested cross-validation for LASSO regression using `glmnet`
and the `tidymodels` framework. After evaluating performance on outer
folds, the function fits a final model to the entire dataset and extracts
non-zero coefficients as feature importances.
}
\examples{
\dontrun{
results <- nested_lasso_regression(
  data = my_data,
  target_variable = "outcome",
  strata = group_column
)
results$outer_performance
results$feature_importances
}

}
